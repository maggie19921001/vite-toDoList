import{_ as V,u as I,r as t,w as S,o as c,c as d,a as e,b as h,v as f,t as g,d as w,e as E,f as B,g as D,h as N,i as q,R as P,p as R,j as L}from"./index-GsOIBGww.js";const l=p=>(R("data-v-636c0129"),p=p(),L(),p),T={id:"signUpPage",class:"bg-yellow"},$={class:"container signUpPage vhContainer"},j=l(()=>e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),M={class:"formControls",action:"index.html"},z=l(()=>e("h2",{class:"formControls_txt"},"註冊帳號",-1)),A=l(()=>e("label",{class:"formControls_label",for:"email"},"Email",-1)),F={key:0},G=l(()=>e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),H={key:1},J=l(()=>e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),K={key:2},O=l(()=>e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),Q={key:3},W="https://todolist-api.hexschool.io",X={__name:"Signup",setup(p){const b=I(),m=t(""),_=t(""),v=t(""),C=t(""),n=t(""),r=t(""),i=t(""),u=t(""),k=t({email:m,password:v,nickname:_});S([m,_,v,C],([a,s,o,U])=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?n.value="":n.value="需要正確的輸入 email 格式",s?r.value="":r.value="此欄位不可留空",o.length<6?i.value="密碼至少6個字":i.value="",U!=o?u.value="兩次輸入之密碼不相同":u.value=""});const y=t(""),x=async()=>{if(n.value==""&&r.value==""&&i.value==""&&u.value=="")try{const a=await N.post(`${W}/users/sign_up`,k.value);confirm("註冊成功")==!0&&b.push("/"),y.value=a.data.uid}catch(a){alert(a.response.data.message)}else alert("請填寫正確資訊")};return(a,s)=>(c(),d("div",T,[e("div",$,[j,e("form",M,[z,A,h(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>m.value=o)},null,512),[[f,m.value]]),n.value?(c(),d("span",F,g(n.value),1)):w("",!0),G,h(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":s[1]||(s[1]=o=>_.value=o)},null,512),[[f,_.value]]),r.value?(c(),d("span",H,g(r.value),1)):w("",!0),J,h(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[2]||(s[2]=o=>v.value=o)},null,512),[[f,v.value]]),i.value?(c(),d("span",K,g(i.value),1)):w("",!0),O,h(e("input",{class:"formControls_input",type:"password",name:"pwdC",id:"pwdC",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[3]||(s[3]=o=>C.value=o)},null,512),[[f,C.value]]),u.value?(c(),d("span",Q,g(u.value),1)):w("",!0),e("input",{class:"formControls_btnSubmit",type:"button",onClick:x,value:"註冊帳號"}),E(D(P),{to:"/",class:"formControls_btnLink"},{default:B(()=>[q("登入")]),_:1})])])]))}},ee=V(X,[["__scopeId","data-v-636c0129"]]);export{ee as default};
