import{_ as U,r as s,w as V,o as n,c as r,a as e,b as h,v as f,t as g,d as w,e as E,f as I,u as B,g as D,h as N,R as q,p as P,i as L}from"./index-DnRYwDh1.js";const l=i=>(P("data-v-ad62c176"),i=i(),L(),i),R={id:"signUpPage",class:"bg-yellow"},T={class:"container signUpPage vhContainer"},$=l(()=>e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),A={class:"formControls",action:"index.html"},F=l(()=>e("h2",{class:"formControls_txt"},"註冊帳號",-1)),M=l(()=>e("label",{class:"formControls_label",for:"email"},"Email",-1)),j={key:0},z=l(()=>e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),G={key:1},H=l(()=>e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),J={key:2},K=l(()=>e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),O={key:3},Q="https://todolist-api.hexschool.io",W={__name:"Signup",setup(i){const c=s(""),u=s(""),d=s(""),C=s(""),p=s(""),m=s(""),_=s(""),v=s(""),k=s({email:c,password:d,nickname:u});V([c,u,d,C],([a,o,t,S])=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?p.value="":p.value="需要正確的輸入 email 格式",o?m.value="":m.value="此欄位不可留空",t.length<6?_.value="密碼至少6個字":_.value="",S!=t?v.value="兩次輸入之密碼不相同":v.value=""});const y=s(""),b=s("");async function x(){try{const a=await D.post(`${Q}/users/sign_up`,k.value);alert("註冊成功，請前往登入"),y.value=a.data.uid}catch(a){b.value=a.response.data.message,alert(b.value)}}return(a,o)=>(n(),r("div",R,[e("div",T,[$,e("form",A,[F,M,h(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t)},null,512),[[f,c.value]]),p.value?(n(),r("span",j,g(p.value),1)):w("",!0),z,h(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=t=>u.value=t)},null,512),[[f,u.value]]),m.value?(n(),r("span",G,g(m.value),1)):w("",!0),H,h(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[2]||(o[2]=t=>d.value=t)},null,512),[[f,d.value]]),_.value?(n(),r("span",J,g(_.value),1)):w("",!0),K,h(e("input",{class:"formControls_input",type:"password",name:"pwdC",id:"pwdC",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":o[3]||(o[3]=t=>C.value=t)},null,512),[[f,C.value]]),v.value?(n(),r("span",O,g(v.value),1)):w("",!0),e("input",{class:"formControls_btnSubmit",type:"button",onClick:x,value:"註冊帳號"}),E(B(q),{to:"/",class:"formControls_btnLink"},{default:I(()=>[N("登入")]),_:1})])])]))}},Z=U(W,[["__scopeId","data-v-ad62c176"]]);export{Z as default};
